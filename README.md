# ACEhamiltonians


ACEhamiltonians aims to learn/predict Self-Consistent Hamiltonian and overlap matrix from datas generated by FHI-aims by using [ACE v0.12.22+](https://github.com/ACEsuit/ACE.jl/tree/main). 

Current package relavance is: ACE v0.12.22, ACEbase v0.2.2, etc..

The workflow of this project is the following:

- Given a set of parameters and specified data to be read (for `rcut`, `maxdeg`, `ord`, `reg_par`, different blocks (i.e.,SS, SP, SD, PP, PD, DD) can use different parameters) -- related function `Params(rcutset,maxdegset,ordset,regparset,regtype)`, `Data(filename, index)`

- Train the models (for H and S respectively) by using the given data and parameter grid, compute training/testing errors -- `fit_main(data_train,par_H,par_S,data_test)`

- Save models/errors/parmaters in a json file -- `write_modeljson(wholemodel)`

- With `$(hash)_H.json`, `$(hash)_S.json`(containing H&S models) and `structure.json`, the Hamiltonian `H` and overlap `S` can be predicted and saved in a h5 file (c.f., `compute.jl` - some part of the code will be moved to `tools.jl`)

- Some other functions: e.g., we can read both the error and parameters from the model (json file), this may arise a less manually way for us to test the parameter/ see the influence of each parameter, etc. (c.f., comments on `compute.jl` - some part of the code will be moved to `tools.jl`)
    
